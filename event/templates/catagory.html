{% extends 'base.html' %}
  {% block head %}
    <!-- Sports cateory navbar -->
    <nav class="navbar navbar-expand-lg" id="categoryNav">
    
      <div class="container-fluid">
        {% if data[1] %}
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
          <ul class="navbar-nav">
            <!-- Basketball -->
            <li class="nav-item dropdown">
              <a class="nav-link cat-nav" href="/catagory/Basketball" role="button" >
                Basketball
              </a>
              
            </li>
            <!-- Boxing -->
            <li class="nav-item dropdown">
              <a class="nav-link cat-nav" href="/catagory/Boxing" role="button" >
                Boxing
              </a>
              
            </li>
            <!-- Cricket -->
            <li class="nav-item dropdown">
              <a class="nav-link cat-nav" href="/catagory/Cricket" role="button" >
                Cricket
              </a>
              
            </li>
            <!-- Golf -->
            <li class="nav-item ">
              <a class="nav-link cat-nav" href="/catagory/Golf" role="button" >
                Golf
              </a>
              
            </li>
            <!-- Rugby -->
            <li class="nav-item ">
              <a class="nav-link cat-nav" href="/catagory/Rugby" role="button" >
                Rugby
              </a>
              
            </li>
            <!-- Soccer -->
            <li class="nav-item ">
              <a class="nav-link cat-nav" href="/catagory/Soccer" role="button" >
                Soccer
              </a>
              
            </li>
            <!-- Tennis -->
            <li class="nav-item ">
              <a class="nav-link cat-nav" href="/catagory/Tennis" role="button" >
                Tennis
              </a>
              
            </li>
            <!-- Etc -->
            <li class="nav-item ">
              <a class="nav-link cat-nav" href="/catagory/All" role="button" >
                All
              </a>
            </li>
          </ul>
      </div> 
      {% endif %}
    </div>
    
  </nav>
  
  {% endblock %}

  {% block content %}

    <div class="container-fl">
      <!-- row2 -->
      <div class="container-f2">
        
        <!-- flashes any messages to the user -->
        {% with messages = get_flashed_messages() %}
        {% if messages %} <!-- check if there are any messages -->
          <div class="container-fluid">
            <div class="row mt-3 mb-3">
              <div class="col-md-12">
              {% for message in messages %} <!--loop through the messages-->
                <div class="alert alert-info">{{ message }}</div> <!--display as alert-->
              {% endfor %}
            </div>
          </div>
        </div>
        {% endif %}
        {% endwith %}
        
        <!-- row 3 -->
        <div class="row row-title">
          <h3 class="title">Upcoming {{data[0]}} Events</h3>
        </div>
        <!-- row 4 events cards -->
        {% set ns = namespace(hasCards = false)%}
        <div class="card-group row">
          {% for event in data[1] %}
          {% if data[0] == 'All' or event.event_type == data[0] %}
          <!-- start card -->
          {%if ns.hasCards == false %}
          {%set ns.hasCards = true%}
          {%endif%}
          {% include 'card.html' %}
          <!-- end card -->
          {% endif %}
          {% endfor %}
          {%if ns.hasCards == false %}
          <div class="container-fluid">
            <div class="row mt-3 mb-3">
              <div class="col-md-12">
                <div class="alert alert-info">No Events of the specified type have been found</div> <!--display as alert-->
            </div>
          </div>
        </div>
        {%endif%}
       </div>
      </div>
    </div>
  {% endblock %}
